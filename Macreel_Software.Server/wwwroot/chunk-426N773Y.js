import{a as Le,b as Be}from"./chunk-4WCWKFVZ.js";import{a as Pe,b as He,d as Oe}from"./chunk-VGFH5LQK.js";import{a as F,b as I,c as P,d as V,e as z,f as L,g as B,h as k,i as H,j as O,k as Ie,l as j,n as Ve,o as w,p as ze,q as ke}from"./chunk-FMZWSWE5.js";import"./chunk-ISXDYVSX.js";import{b as R}from"./chunk-6BGGINTD.js";import"./chunk-IPRCABXG.js";import{c as T,d as ae,f as E,g as N,h as J,i as Me,j as K,k as M,m as Ae,n as ge,o as ue,t as A,v as fe,w as Re,x as Fe}from"./chunk-BVWMTXCI.js";import"./chunk-JNGLRRZQ.js";import{$a as Y,Da as c,K as se,Ma as o,Na as a,Oa as p,Pa as x,Pb as Ne,Qa as y,S as g,Sa as v,T as u,Ua as s,Va as b,_a as W,ab as Z,dc as De,eb as l,fb as ee,gb as C,jb as U,kb as q,lb as G,ma as d,ob as D,qa as _,u as Te,ua as S,va as ce,x as Ee,za as f}from"./chunk-QLDBBFLA.js";import{a as oe}from"./chunk-WLYQFBIK.js";import{d as ne}from"./chunk-WIXLIC45.js";var $=ne(oe());var Ue=()=>[20,50,100];function qe(n,e){n&1&&(o(0,"th",35),l(1," Sr No. "),a())}function Ge(n,e){if(n&1&&(o(0,"td",36),l(1),a()),n&2){let t=e.$implicit;d(),C(" ",t.srNo," ")}}function $e(n,e){n&1&&(o(0,"th",37),l(1," Department Name "),a())}function Qe(n,e){if(n&1&&(o(0,"td",38),l(1),a()),n&2){let t=e.$implicit;d(),C(" ",t.name," ")}}function We(n,e){n&1&&(o(0,"th",39),l(1," Action "),a())}function Ye(n,e){if(n&1){let t=v();o(0,"td",40)(1,"button",41),s("click",function(){let r=g(t).$implicit,m=b();return u(m.editDepartment(r))}),p(2,"i",42),a(),o(3,"button",43),s("click",function(){let r=g(t).$implicit,m=b();return u(m.deleteDepartment(r))}),p(4,"i",44),a()()}}function Ze(n,e){n&1&&p(0,"tr",45)}function Je(n,e){n&1&&p(0,"tr",46)}var he=class n{constructor(e){this.master=e}departmentName="";editingDepartmentId=null;displayedColumns=["srNo","name","action"];dataSource=new j([]);paginator;pageSize=20;pageNumber=1;totalRecords=0;searchText="";ngOnInit(){this.loadDepartments()}loadDepartments(){this.master.getDepartment(this.pageNumber,this.pageSize,this.searchText).subscribe({next:e=>{let t=e.data||[];this.totalRecords=e.totalRecords||0,this.dataSource.data=t.map((i,r)=>({srNo:(this.pageNumber-1)*this.pageSize+r+1,id:i.id,name:i.departmentName||i.name}))},error:()=>{$.default.fire("Error","Failed to load departments","error")}})}onPageChange(e){this.pageSize=e.pageSize,this.pageNumber=e.pageIndex+1,this.loadDepartments()}applyFilter(e){this.searchText=e.target.value.trim(),this.pageNumber=1,this.loadDepartments()}onSubmit(){if(!this.departmentName.trim())return;let e={id:this.editingDepartmentId||0,departmentName:this.departmentName};this.master.addOrUpdateDepartment(e).subscribe({next:()=>{$.default.fire({icon:"success",title:this.editingDepartmentId?"Department updated":"Department added",timer:1500,showConfirmButton:!1}),this.departmentName="",this.editingDepartmentId=null,this.loadDepartments()},error:()=>{$.default.fire("Error","Failed to save department","error")}})}editDepartment(e){this.master.getDepartmentById(e.id).subscribe({next:t=>{if(t.success&&t.data?.length){let i=t.data[0];this.departmentName=i.departmentName,this.editingDepartmentId=i.id}else $.default.fire("Error","Department not found","error")},error:()=>{$.default.fire("Error","Failed to fetch department","error")}})}deleteDepartment(e){$.default.fire({title:`Are you sure you want to delete ${e.name}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#C5192F"}).then(t=>{t.isConfirmed&&this.master.deleteDepartmentById(e.id).subscribe({next:()=>{$.default.fire({icon:"success",title:"Deleted",timer:1200,showConfirmButton:!1}),this.loadDepartments()},error:()=>{$.default.fire("Error","Failed to delete department","error")}})})}static \u0275fac=function(t){return new(t||n)(_(R))};static \u0275cmp=S({type:n,selectors:[["app-add-department"]],viewQuery:function(t,i){if(t&1&&W(w,5),t&2){let r;Y(r=Z())&&(i.paginator=r.first)}},standalone:!1,decls:38,vars:8,consts:[["deptForm","ngForm"],[1,"panel-header","panel-header-sm"],[1,"content","px-3","py-2"],[1,"mb-3"],[1,"bg-white","shadow","rounded-lg"],[1,"p-2"],["id","RegisterValidation",3,"ngSubmit"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-2","p-2"],[1,"w-full","md:w-[17%]"],["for","DepartmentName",1,"block","text-[#7E7E7E]","font-bold","text-[15px]","md:text-[17px]","ml-1"],[1,"w-full","md:w-[25%]"],["id","DepartmentName","name","departmentName","required","","type","text","placeholder","Enter Department Name","autocomplete","off",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","text-[12px]",3,"ngModelChange","ngModel"],[1,"w-full","md:w-1/4"],["type","submit","id","btnDepartment",1,"w-full","md:w-auto","h-[34px]","px-6","bg-[#dd3d4f]","text-white","font-medium","rounded-md","hover:bg-[#249378]","transition","text-[12px]"],[1,"bg-white","shadow","rounded-lg","p-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-1","mb-1"],[1,"ml-2","text-lg","md:text-[16px]","font-semibold","text-[#444]","text-center","md:text-left"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-3"],[1,"relative"],["type","text","placeholder","Search Department",1,"w-full","pl-10","pr-3","py-[6px]","text-[12px]","rounded-lg","bg-[#F6F7FB]","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","table-search",3,"keyup"],[1,"fa-solid","fa-magnifying-glass","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","pageSizeOptions","pageSize","length"],[1,"relative","overflow-x-auto","w-full"],["mat-table","",1,"min-w-[700px]","w-full","border","border-gray-300","divide-y","divide-gray-300","table-fixed","text-sm","md:text-base",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","class",`w-[70px] px-1 text-[14px] py-1 text-center
                   !bg-[#dd3d4f] text-white  whitespace-nowrap`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-[12px] text-center ",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class",`min-w-[200px] text-[14px] px-1 py-1
                   !bg-[#dd3d4f] text-white `,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-[12px] ",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class",`w-[120px] px-1 py-1 text-[14px] text-center
                   !bg-[#dd3d4f] text-white`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-center",4,"matCellDef"],["mat-header-row","","class","!h-9",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-100 !h-9",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-[70px]","px-1","text-[14px]","py-1","text-center","!bg-[#dd3d4f]","text-white","whitespace-nowrap"],["mat-cell","",1,"px-1","py-1","text-[12px]","text-center"],["mat-header-cell","",1,"min-w-[200px]","text-[14px]","px-1","py-1","!bg-[#dd3d4f]","text-white"],["mat-cell","",1,"px-1","py-1","text-[12px]"],["mat-header-cell","",1,"w-[120px]","px-1","py-1","text-[14px]","text-center","!bg-[#dd3d4f]","text-white"],["mat-cell","",1,"px-1","py-1","text-center"],[1,"text-green-700","p-2",3,"click"],[1,"fa","fa-pencil"],[1,"text-red-500","p-2",3,"click"],[1,"fa","fa-trash"],["mat-header-row","",1,"!h-9"],["mat-row","",1,"hover:bg-gray-100","!h-9"]],template:function(t,i){if(t&1){let r=v();p(0,"div",1),o(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"form",6,0),s("ngSubmit",function(){return g(r),u(i.onSubmit())}),o(7,"div",7)(8,"div",8)(9,"label",9),l(10," Add Department : "),a()(),o(11,"div",10)(12,"input",11),G("ngModelChange",function(h){return g(r),q(i.departmentName,h)||(i.departmentName=h),u(h)}),a()(),o(13,"div",12)(14,"button",13),l(15," Submit "),a()()()()()()(),o(16,"div",14)(17,"div",15)(18,"h1",16),l(19," Department List "),a(),o(20,"div",17)(21,"div",18)(22,"input",19),s("keyup",function(h){return g(r),u(i.applyFilter(h))}),a(),p(23,"i",20),a(),o(24,"mat-paginator",21),s("page",function(h){return g(r),u(i.onPageChange(h))}),a()()(),o(25,"div",22)(26,"table",23),x(27,24),f(28,qe,2,0,"th",25)(29,Ge,2,1,"td",26),y(),x(30,27),f(31,$e,2,0,"th",28)(32,Qe,2,1,"td",29),y(),x(33,30),f(34,We,2,0,"th",31)(35,Ye,5,0,"td",32),y(),f(36,Ze,1,0,"tr",33)(37,Je,1,0,"tr",34),a()()()()}t&2&&(d(12),U("ngModel",i.departmentName),d(12),c("pageSizeOptions",D(7,Ue))("pageSize",i.pageSize)("length",i.totalRecords),d(2),c("dataSource",i.dataSource),d(10),c("matHeaderRowDef",i.displayedColumns),d(),c("matRowDefColumns",i.displayedColumns))},dependencies:[M,T,E,N,A,K,J,F,P,B,V,I,k,z,L,H,O,w],styles:[".mat-mdc-paginator-page-size-label{display:none!important}  .mat-mdc-paginator-range-label{display:none!important}  .mat-mdc-paginator-page-size-select{width:65px!important;min-width:55px!important}  .mat-mdc-select-trigger{height:22px!important;font-size:13px!important}  .mat-mdc-paginator-container{min-height:40px!important;padding:0 8px!important}"]})};var Q=ne(oe());var Ke=()=>[20,50,100];function Xe(n,e){n&1&&(o(0,"th",35),l(1," Sr No. "),a())}function et(n,e){if(n&1&&(o(0,"td",36),l(1),a()),n&2){let t=e.$implicit;d(),C(" ",t.srNo," ")}}function tt(n,e){n&1&&(o(0,"th",37),l(1," Designation Name "),a())}function it(n,e){if(n&1&&(o(0,"td",38),l(1),a()),n&2){let t=e.$implicit;d(),C(" ",t.name," ")}}function nt(n,e){n&1&&(o(0,"th",39),l(1," Action "),a())}function at(n,e){if(n&1){let t=v();o(0,"td",40)(1,"button",41),s("click",function(){let r=g(t).$implicit,m=b();return u(m.editDesignation(r))}),p(2,"i",42),a(),o(3,"button",43),s("click",function(){let r=g(t).$implicit,m=b();return u(m.deleteDesignation(r))}),p(4,"i",44),a()()}}function ot(n,e){n&1&&p(0,"tr",45)}function rt(n,e){n&1&&p(0,"tr",46)}var we=class n{constructor(e){this.master=e}designationName="";editingDesignationId=null;displayedColumns=["srNo","name","action"];pageSize=20;pageNumber=1;totalRecords=0;searchText="";ngOnInit(){this.loadDesignations()}dataSource=[];loadDesignations(){this.master.getDesignation(this.pageNumber,this.pageSize,this.searchText).subscribe({next:e=>{let t=e.data??[];this.totalRecords=e.totalRecords??0,this.dataSource=t.map((i,r)=>({srNo:(this.pageNumber-1)*this.pageSize+r+1,id:i.id,name:i.designationName}))},error:()=>{Q.default.fire("Error","Failed to load designations","error")}})}onSubmit(){if(!this.designationName.trim())return;let e={id:this.editingDesignationId??0,designationName:this.designationName};this.master.addOrUpdateDesignation(e).subscribe({next:()=>{Q.default.fire({icon:"success",title:this.editingDesignationId?"Designation Updated":"Designation Added",timer:1500,showConfirmButton:!1}),this.cancelEdit(),this.loadDesignations()},error:t=>{console.error(t),Q.default.fire("Error","Save failed","error")}})}editDesignation(e){this.master.getDesignationById(e.id).subscribe({next:t=>{if(t.success&&t.data?.length){let i=t.data[0];this.designationName=i.designationName,this.editingDesignationId=i.id}else Q.default.fire("Error","Designation not found","error")},error:()=>{Q.default.fire("Error","Failed to fetch designation","error")}})}cancelEdit(){this.designationName="",this.editingDesignationId=null}deleteDesignation(e){Q.default.fire({title:`Are you sure you want to delete ${e.name}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#C5192F"}).then(t=>{t.isConfirmed&&this.master.deleteDesignationById(e.id).subscribe({next:()=>{Q.default.fire("Deleted!","Designation removed","success"),this.loadDesignations()},error:()=>{Q.default.fire("Error","Delete failed","error")}})})}applyFilter(e){this.searchText=e.target.value.trim(),this.pageNumber=1,this.loadDesignations()}onPageChange(e){this.pageSize=e.pageSize,this.pageNumber=e.pageIndex+1,this.loadDesignations()}static \u0275fac=function(t){return new(t||n)(_(R))};static \u0275cmp=S({type:n,selectors:[["app-add-designation"]],standalone:!1,decls:38,vars:10,consts:[["designationForm","ngForm"],[1,"panel-header","panel-header-sm"],[1,"content","px-3","py-2"],[1,"mb-3"],[1,"bg-white","shadow","rounded-lg"],[1,"p-3"],["id","RegisterValidation",3,"ngSubmit"],[1,"flex","flex-col","!p-1px","md:flex-row","md:items-center","p-2"],[1,"w-full","md:w-[17%]"],["for","DesignationName",1,"block","text-[#7E7E7E]","font-bold","text-[14px]","md:text-[17px]","ml-1"],[1,"w-full","md:w-[25%]"],["id","DesignationName","name","designationName","required","","type","text","placeholder","Enter Designation Name",1,"w-[full]","border","rounded-md","px-3","text-[12px]","w-[230px]","py-2","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]",3,"ngModelChange","ngModel"],[1,"w-full","md:w-1/4"],["type","submit",1,"w-full","md:w-auto","h-8","text-[12px]","px-6","!bg-[#dd3d4f]","text-white","rounded-md"],[1,"bg-white","shadow","rounded-lg","p-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-1","mb-1"],[1,"ml-2","text-lg","md:text-[16px]","font-semibold","text-[#444]","text-center","md:text-left"],[1,"flex","items-center","gap-2"],[1,"relative"],["type","text","placeholder","Search Designation",1,"w-full","pl-10","pr-3","py-[6px]","text-[12px]","rounded-lg","bg-[#F6F7FB]","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","table-search",3,"keyup"],[1,"fa-solid","fa-magnifying-glass","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"],[1,"relative","overflow-x-auto","w-full"],["mat-table","",1,"min-w-[700px]","w-full","border","border-gray-300","divide-y","divide-gray-300","table-fixed","text-sm","md:text-base",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","class",`w-[70px] px-1 py-1 text-center
                    !bg-[#dd3d4f] text-white  whitespace-nowrap text-[14px]`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-center text-[12px]",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","class",`min-w-[200px] px-1 py-1
                   !bg-[#dd3d4f] text-white text-[14px]`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-[12px]",4,"matCellDef"],["matColumnDef","action"],["mat-header-cell","","class",`w-[120px] px-1 py-1 text-center
                   !bg-[#dd3d4f] text-white text-[14px]`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-center",4,"matCellDef"],["mat-header-row","","class","!h-9",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-100 !h-9",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-[70px]","px-1","py-1","text-center","!bg-[#dd3d4f]","text-white","whitespace-nowrap","text-[14px]"],["mat-cell","",1,"px-1","py-1","text-center","text-[12px]"],["mat-header-cell","",1,"min-w-[200px]","px-1","py-1","!bg-[#dd3d4f]","text-white","text-[14px]"],["mat-cell","",1,"px-1","py-1","text-[12px]"],["mat-header-cell","",1,"w-[120px]","px-1","py-1","text-center","!bg-[#dd3d4f]","text-white","text-[14px]"],["mat-cell","",1,"px-1","py-1","text-center"],[1,"text-green-700","p-2","rounded-full","hover:bg-green-100","mr-1","text-[12px]",3,"click"],[1,"fa","fa-pencil"],[1,"text-red-500","p-2","rounded-full","hover:bg-red-100","text-[12px]",3,"click"],[1,"fa","fa-trash"],["mat-header-row","",1,"!h-9"],["mat-row","",1,"hover:bg-gray-100","!h-9"]],template:function(t,i){if(t&1){let r=v();p(0,"div",1),o(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"form",6,0),s("ngSubmit",function(){return g(r),u(i.onSubmit())}),o(7,"div",7)(8,"div",8)(9,"label",9),l(10," Add Designation : "),a()(),o(11,"div",10)(12,"input",11),G("ngModelChange",function(h){return g(r),q(i.designationName,h)||(i.designationName=h),u(h)}),a()(),o(13,"div",12)(14,"button",13),l(15),a()()()()()()(),o(16,"div",14)(17,"div",15)(18,"h1",16),l(19," Designation List "),a(),o(20,"div",17)(21,"div",18)(22,"input",19),s("keyup",function(h){return g(r),u(i.applyFilter(h))}),a(),p(23,"i",20),a(),o(24,"mat-paginator",21),s("page",function(h){return g(r),u(i.onPageChange(h))}),a()()(),o(25,"div",22)(26,"table",23),x(27,24),f(28,Xe,2,0,"th",25)(29,et,2,1,"td",26),y(),x(30,27),f(31,tt,2,0,"th",28)(32,it,2,1,"td",29),y(),x(33,30),f(34,nt,2,0,"th",31)(35,at,5,0,"td",32),y(),f(36,ot,1,0,"tr",33)(37,rt,1,0,"tr",34),a()()()()}t&2&&(d(12),U("ngModel",i.designationName),d(3),C(" ",i.editingDesignationId?"Update":"Submit"," "),d(9),c("length",i.totalRecords)("pageSize",i.pageSize)("pageIndex",i.pageNumber-1)("pageSizeOptions",D(9,Ke)),d(2),c("dataSource",i.dataSource),d(10),c("matHeaderRowDef",i.displayedColumns),d(),c("matRowDefColumns",i.displayedColumns))},dependencies:[M,T,E,N,A,K,J,F,P,B,V,I,k,z,L,H,O,w],styles:[".mat-mdc-paginator-page-size-label{display:none!important}  .mat-mdc-paginator-range-label{display:none!important}  .mat-mdc-paginator-page-size-select{width:65px!important;min-width:55px!important}  .mat-mdc-select-trigger{height:22px!important;font-size:13px!important}  .mat-mdc-paginator-container{min-height:40px!important;padding:0 8px!important}"]})};var X=ne(oe());var lt=()=>[20,50,100],be=class n{constructor(e){this.master=e}roleName="";displayedColumns=["srNo","name","action"];dataSource=new j([]);paginator;pageSize=20;data=[];pageNumber=1;totalRecords=0;searchText="";editingRoleId=null;ngOnInit(){this.loadRoles()}Roles=[{key:"name",label:"Name"}];loadRoles(){this.master.getRoles(this.pageNumber,this.pageSize,this.searchText).subscribe(e=>{console.log("TOTAL RECORDS \u{1F449}",e.totalRecords),console.log("PAGE SIZE \u{1F449}",this.pageSize);let t=e.data||[];this.totalRecords=e.totalRecords,this.data=t.map((i,r)=>({srNo:(this.pageNumber-1)*this.pageSize+r+1,id:i.id,name:i.rolename}))})}onPageChange(e){this.pageSize=e.pageSize,this.pageNumber=e.pageIndex+1,this.loadRoles()}applyFilter(e){let t=e.target.value.trim();this.searchText=t,this.pageNumber=1,this.loadRoles()}onSubmit(){if(!this.roleName.trim())return;let e={id:this.editingRoleId||0,rolename:this.roleName};this.master.AddRole(e).subscribe({next:()=>{X.default.fire({icon:"success",title:this.editingRoleId?"Role updated successfully":"Role added successfully",showConfirmButton:!1,timer:1500}),this.roleName="",this.editingRoleId=null,this.loadRoles()},error:t=>{console.error(t),X.default.fire({icon:"error",title:"Error!",text:"Failed to add/update role"})}})}editRole(e){this.master.getRoleById(e.id).subscribe({next:t=>{if(t.success&&t.data&&t.data.length>0){let i=t.data[0];this.roleName=i.rolename,this.editingRoleId=i.id}else X.default.fire({icon:"error",title:"Error!",text:"Role data not found"})},error:()=>{X.default.fire({icon:"error",title:"Error!",text:"Failed to fetch role data"})}})}deleteRole(e){X.default.fire({title:`Are you sure you want to delete ${e.name}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#E6354B",cancelButtonColor:"#aaa",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.master.deleteRoleById(e.id).subscribe({next:()=>{X.default.fire({icon:"success",title:"Deleted!",text:`${e.name} has been deleted.`,showConfirmButton:!1,timer:1500}),this.loadRoles()},error:()=>X.default.fire({icon:"error",title:"Error!",text:"Failed to delete role"})})})}static \u0275fac=function(t){return new(t||n)(_(R))};static \u0275cmp=S({type:n,selectors:[["app-add-role"]],viewQuery:function(t,i){if(t&1&&W(w,5),t&2){let r;Y(r=Z())&&(i.paginator=r.first)}},standalone:!1,decls:28,vars:7,consts:[["roleForm","ngForm"],[1,"panel-header","panel-header-sm"],[1,"content","px-3","py-2"],[1,"mb-3"],[1,"bg-white","shadow","rounded-lg"],[1,"p-2"],[3,"ngSubmit"],[1,"flex","flex-col","!p-1px","md:flex-row","md:items-center","p-2"],[1,"w-full","md:w-[10%]"],[1,"block","text-[#7E7E7E]","font-bold","text-[12px]","md:text-[16px]","ml-1"],[1,"w-full","md:w-[25%]"],["type","text","name","roleName","required","","placeholder","Enter Role Name",1,"w-[full]","border","border-gray-300","rounded-md","px-3","text-[12px]","w-[230px]","py-2","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]",3,"ngModelChange","ngModel"],[1,"w-full","md:w-1/4"],["type","submit",1,"w-full","md:w-auto","h-[34px]","px-6","bg-[#dd3d4f]","text-white","rounded-md","text-[12px]"],[1,"bg-white","shadow","rounded-lg","p-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-2","mb-2","w-full"],[1,"ml-2","text-lg","md:text-[16px]","font-semibold","text-[#444]","text-center","md:text-left"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-2","w-full","md:w-auto","justify-end"],[1,"relative"],["type","text","placeholder","Search Role",1,"pl-10","pr-3","py-[6px]","text-[12px]","rounded-lg","bg-[#F6F7FB]","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","table-search",3,"keyup"],[1,"fa-solid","fa-magnifying-glass","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-[12px]"],[1,"w-full","md:w-auto"],["showFirstLastButtons","",3,"page","pageSizeOptions","pageSize","length"],[3,"edit","delete","columns","data"]],template:function(t,i){if(t&1){let r=v();p(0,"div",1),o(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"form",6,0),s("ngSubmit",function(){return g(r),u(i.onSubmit())}),o(7,"div",7)(8,"div",8)(9,"label",9),l(10," Add Role : "),a()(),o(11,"div",10)(12,"input",11),G("ngModelChange",function(h){return g(r),q(i.roleName,h)||(i.roleName=h),u(h)}),a()(),o(13,"div",12)(14,"button",13),l(15," Submit "),a()()()()()()(),l(16,`
<<<<<<< HEAD `),o(17,"div",14)(18,"div",15)(19,"h1",16),l(20," Role List "),a(),o(21,"div",17)(22,"div",18)(23,"input",19),s("keyup",function(h){return g(r),u(i.applyFilter(h))}),a(),p(24,"i",20),a(),o(25,"div",21)(26,"mat-paginator",22),s("page",function(h){return g(r),u(i.onPageChange(h))}),a()()()(),o(27,"app-generic-table",23),s("edit",function(h){return g(r),u(i.editRole(h))})("delete",function(h){return g(r),u(i.deleteRole(h))}),a()()()}t&2&&(d(12),U("ngModel",i.roleName),d(14),c("pageSizeOptions",D(6,lt))("pageSize",i.pageSize)("length",i.totalRecords),d(),c("columns",i.Roles)("data",i.data))},dependencies:[M,T,E,N,A,K,J,w,He],styles:[".mat-mdc-paginator-page-size-label{display:none!important}  .mat-mdc-paginator-range-label{display:none!important}  .mat-mdc-paginator-page-size-select{width:65px!important;min-width:45px!important}  .mat-mdc-select-trigger{height:8px!important;font-size:12px!important;padding-top:0!important;padding-bottom:0!important}  .mat-mdc-paginator-container{min-height:30px!important;padding:0 8px!important}.mdc-notched-outline[_ngcontent-%COMP%]{height:35px!important}.mat-mdc-paginator-touch-target[_ngcontent-%COMP%]{height:30px!important}.mat-mdc-form-field-flex[_ngcontent-%COMP%]{height:30px!important;align-items:center!important}"]})};var ie=ne(oe());var dt=()=>[20,50,100];function mt(n,e){n&1&&(o(0,"th",37),l(1," Sr No. "),a())}function pt(n,e){if(n&1&&(o(0,"td",38),l(1),a()),n&2){let t=e.$implicit;d(),C(" ",t.srNo," ")}}function st(n,e){n&1&&(o(0,"th",39),l(1," Software Type "),a())}function ct(n,e){if(n&1&&(o(0,"td",38),l(1),a()),n&2){let t=e.$implicit;d(),C(" ",t.softwareType," ")}}function gt(n,e){n&1&&(o(0,"th",39),l(1," Technology "),a())}function ut(n,e){if(n&1&&(o(0,"td",38),l(1),a()),n&2){let t=e.$implicit;d(),C(" ",t.technologyName," ")}}function ft(n,e){n&1&&(o(0,"th",40),l(1," Action "),a())}function ht(n,e){if(n&1){let t=v();o(0,"td",41)(1,"button",42),s("click",function(){let r=g(t).$implicit,m=b();return u(m.editTechnology(r))}),p(2,"i",43),a(),o(3,"button",44),s("click",function(){let r=g(t).$implicit,m=b();return u(m.deleteTechnology(r))}),p(4,"i",45),a()()}}function xt(n,e){n&1&&p(0,"tr",46)}function yt(n,e){n&1&&p(0,"tr",47)}var Ce=class n{constructor(e){this.master=e}softwareType="";technologyName="";displayedColumns=["srNo","softwareType","technologyName","action"];dataSource=new j([]);paginator;ngAfterViewInit(){this.dataSource.paginator=this.paginator}pageSize=20;pageNumber=1;totalRecords=0;searchText="";editingId=null;ngOnInit(){this.loadTechnology()}loadTechnology(){this.master.getAllTechnology(this.pageNumber,this.pageSize,this.searchText).subscribe(e=>{let t=e.data||[];this.totalRecords=e.totalRecords,this.dataSource.data=t.map((i,r)=>({srNo:(this.pageNumber-1)*this.pageSize+r+1,id:i.id,softwareType:i.softwareType,technologyName:i.technologyName}))})}onPageChange(e){this.pageSize=e.pageSize,this.pageNumber=e.pageIndex+1,this.loadTechnology()}applyFilter(e){let t=e.target.value.trim();this.searchText=t,this.pageNumber=1,this.paginator&&(this.paginator.pageIndex=0),this.loadTechnology()}onSubmit(){if(!this.softwareType||!this.technologyName){ie.default.fire({icon:"warning",title:"Please fill all fields"});return}let e={id:this.editingId||0,softwareType:this.softwareType,technologyName:this.technologyName};this.master.addOrUpdateTechnology(e).subscribe({next:t=>{t.success?ie.default.fire({icon:"success",title:this.editingId?"Updated Successfully":"Added Successfully",showConfirmButton:!1,timer:1500}):ie.default.fire("Warning",t.message,"error"),this.resetForm(),this.loadTechnology()},error:()=>{ie.default.fire({icon:"error",title:"Error saving data"})}})}editTechnology(e){this.master.getTechnologyById(e.id).subscribe({next:t=>{if(t.success&&t.data.length>0){let i=t.data[0];this.softwareType=i.softwareType,this.technologyName=i.technologyName,this.editingId=i.id}}})}deleteTechnology(e){ie.default.fire({title:`Delete ${e.technologyName}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.master.deleteTechnologyById(e.id).subscribe({next:()=>{ie.default.fire({icon:"success",title:"Deleted!",timer:1500,showConfirmButton:!1}),this.loadTechnology()}})})}resetForm(){this.softwareType="",this.technologyName="",this.editingId=null}static \u0275fac=function(t){return new(t||n)(_(R))};static \u0275cmp=S({type:n,selectors:[["app-add-technology"]],viewQuery:function(t,i){if(t&1&&W(w,5),t&2){let r;Y(r=Z())&&(i.paginator=r.first)}},standalone:!1,decls:47,vars:9,consts:[[1,"panel-header","panel-header-sm"],[1,"content","px-3","py-2"],[1,"mb-3"],[1,"bg-white","shadow","rounded-lg"],[1,"p-2"],[3,"ngSubmit"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-4","p-1"],[1,"w-full","md:w-[15%]"],["for","DepartmentName",1,"block","text-[#7E7E7E]","font-bold","pt-4","text-[14px]","md:text-[17px]","ml-1"],[1,"flex","flex-col","md:flex-row","gap-4","w-full","md:w-[80%]"],[1,"w-full","md:w-[30%]"],[1,"block","text-[#7E7E7E]","font-bold","text-[14px]","mb-1"],["type","text","name","softwareType","required","","placeholder","Enter Software Type","autocomplete","off",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","text-[12px]",3,"ngModelChange","ngModel"],["type","text","name","technologyName","required","","placeholder","Enter Technology","autocomplete","off",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","text-[12px]",3,"ngModelChange","ngModel"],[1,"w-full","md:w-auto","flex","items-end"],["type","submit",1,"h-[34px]","px-6","bg-[#dd3d4f]","text-white","font-medium","rounded-md","hover:bg-[#249378]","transition","text-[12px]"],[1,"bg-white","shadow","rounded-lg","p-2"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-2","mb-1"],[1,"ml-2","text-lg","md:text-[16px]","font-semibold","text-[#444]","text-center","md:text-left"],[1,"flex","items-center","gap-2"],[1,"relative"],["type","text","placeholder","Search Technology",1,"w-full","pl-10","pr-3","py-[6px]","text-[12px]","rounded-lg","bg-[#F6F7FB]","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","table-search",3,"input"],[1,"fa-solid","fa-magnifying-glass","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","pageSizeOptions","pageSize","length"],[1,"relative","overflow-x-auto","w-full"],["mat-table","",1,"min-w-[700px]","w-full","border","border-gray-300","divide-y","divide-gray-300","table-fixed","text-sm","md:text-base",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","class",`w-[70px] px-1 text-[14px] py-1 text-center
                   !bg-[#dd3d4f] text-white whitespace-nowrap`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-[12px] text-center",4,"matCellDef"],["matColumnDef","softwareType"],["mat-header-cell","","class",`w-[120px] px-1 text-[14px] py-1 text-center
                   !bg-[#dd3d4f] text-white whitespace-nowrap`,4,"matHeaderCellDef"],["matColumnDef","technologyName"],["matColumnDef","action"],["mat-header-cell","","class",`w-[120px] px-1 py-1 text-[14px] text-center
                   !bg-[#dd3d4f] text-white`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-center",4,"matCellDef"],["mat-header-row","","class","!h-9",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-100 !h-9",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-[70px]","px-1","text-[14px]","py-1","text-center","!bg-[#dd3d4f]","text-white","whitespace-nowrap"],["mat-cell","",1,"px-1","py-1","text-[12px]","text-center"],["mat-header-cell","",1,"w-[120px]","px-1","text-[14px]","py-1","text-center","!bg-[#dd3d4f]","text-white","whitespace-nowrap"],["mat-header-cell","",1,"w-[120px]","px-1","py-1","text-[14px]","text-center","!bg-[#dd3d4f]","text-white"],["mat-cell","",1,"px-1","py-1","text-center"],[1,"text-green-700","p-2",3,"click"],[1,"fa","fa-pencil"],[1,"text-red-500","p-2",3,"click"],[1,"fa","fa-trash"],["mat-header-row","",1,"!h-9"],["mat-row","",1,"hover:bg-gray-100","!h-9"]],template:function(t,i){t&1&&(p(0,"div",0),o(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),s("ngSubmit",function(){return i.onSubmit()}),o(6,"div",6)(7,"div",7)(8,"label",8),l(9," Add Technology : "),a()(),o(10,"div",9)(11,"div",10)(12,"label",11),l(13," Software Type : "),a(),o(14,"input",12),G("ngModelChange",function(m){return q(i.softwareType,m)||(i.softwareType=m),m}),a()(),o(15,"div",10)(16,"label",11),l(17," Technology Name : "),a(),o(18,"input",13),G("ngModelChange",function(m){return q(i.technologyName,m)||(i.technologyName=m),m}),a()(),o(19,"div",14)(20,"button",15),l(21," Submit "),a()()()()()()()(),o(22,"div",16)(23,"div",17)(24,"h1",18),l(25," Technology List "),a(),o(26,"div",19)(27,"div",20)(28,"input",21),s("input",function(m){return i.applyFilter(m)}),a(),p(29,"i",22),a(),o(30,"mat-paginator",23),s("page",function(m){return i.onPageChange(m)}),a()()(),o(31,"div",24)(32,"table",25),x(33,26),f(34,mt,2,0,"th",27)(35,pt,2,1,"td",28),y(),x(36,29),f(37,st,2,0,"th",30)(38,ct,2,1,"td",28),y(),x(39,31),f(40,gt,2,0,"th",30)(41,ut,2,1,"td",28),y(),x(42,32),f(43,ft,2,0,"th",33)(44,ht,5,0,"td",34),y(),f(45,xt,1,0,"tr",35)(46,yt,1,0,"tr",36),a()()()()),t&2&&(d(14),U("ngModel",i.softwareType),d(4),U("ngModel",i.technologyName),d(12),c("pageSizeOptions",D(8,dt))("pageSize",i.pageSize)("length",i.totalRecords),d(2),c("dataSource",i.dataSource),d(13),c("matHeaderRowDef",i.displayedColumns),d(),c("matRowDefColumns",i.displayedColumns))},dependencies:[M,T,E,N,A,K,J,F,P,B,V,I,k,z,L,H,O,w],styles:[".mat-mdc-paginator-page-size-label{display:none!important}  .mat-mdc-paginator-range-label{display:none!important}  .mat-mdc-paginator-page-size-select{width:65px!important;min-width:45px!important}  .mat-mdc-select-trigger{height:8px!important;font-size:12px!important;padding-top:0!important;padding-bottom:0!important}  .mat-mdc-paginator-container{min-height:30px!important;padding:0 8px!important}.mdc-notched-outline[_ngcontent-%COMP%]{height:35px!important}.mat-mdc-paginator-touch-target[_ngcontent-%COMP%]{height:30px!important}.mat-mdc-form-field-flex[_ngcontent-%COMP%]{height:30px!important;align-items:center!important}"]})};var re=ne(oe());var wt=()=>[20,50,100];function bt(n,e){n&1&&(o(0,"th",38),l(1,"Sr No."),a())}function Ct(n,e){if(n&1&&(o(0,"td",39),l(1),a()),n&2){let t=e.$implicit;d(),ee(t.srNo)}}function _t(n,e){n&1&&(o(0,"th",40),l(1,"Leave Type"),a())}function vt(n,e){if(n&1&&(o(0,"td",41),l(1),a()),n&2){let t=e.$implicit;d(),ee(t.leaveName)}}function St(n,e){n&1&&(o(0,"th",42),l(1," Description"),a())}function Dt(n,e){if(n&1&&(o(0,"td",41),l(1),a()),n&2){let t=e.$implicit;d(),ee(t.description)}}function Tt(n,e){n&1&&(o(0,"th",43),l(1,"Action"),a())}function Et(n,e){if(n&1){let t=v();o(0,"td",44)(1,"i",45),s("click",function(){let r=g(t).$implicit,m=b();return u(m.onEdit(r))}),a(),o(2,"i",46),s("click",function(){let r=g(t).$implicit,m=b();return u(m.onDelete(r))}),a()()}}function Nt(n,e){n&1&&p(0,"tr",47)}function Mt(n,e){n&1&&p(0,"tr",48)}var _e=class n{constructor(e,t){this.fb=e;this.leaveService=t}leaveForm;displayedColumns=["srNo","leaveName","description","action"];dataSource=new j([]);paginator;pageNumber=1;pageSize=20;totalRecords=0;searchTerm="";isEditMode=!1;editId=null;isSubmitting=!1;ngOnInit(){this.leaveForm=this.fb.group({leaveName:["",ae.required],description:["",ae.required]}),this.loadLeaveList()}loadLeaveList(){this.leaveService.getAllLeave(this.searchTerm,this.pageNumber,this.pageSize).subscribe(e=>{if(e?.success){let t=e.data||[];this.totalRecords=e.totalRecords||0,this.dataSource.data=t.map((i,r)=>({srNo:(this.pageNumber-1)*this.pageSize+r+1,id:i.id,leaveName:i.leaveName,description:i.description}))}})}onPageChange(e){this.pageSize=e.pageSize,this.pageNumber=e.pageIndex+1,this.loadLeaveList()}applyFilter(e){this.searchTerm=e.target.value.trim(),this.pageNumber=1,this.loadLeaveList()}onSubmit(){if(this.leaveForm.invalid){this.leaveForm.markAllAsTouched();return}let e={id:this.isEditMode?this.editId:0,leaveName:this.leaveForm.value.leaveName.trim(),description:this.leaveForm.value.description};debugger;this.isSubmitting=!0,this.leaveService.insertLeave(e).subscribe({next:t=>{t?.status?(re.default.fire("Success",t.message,"success"),this.leaveForm.reset(),this.isEditMode=!1,this.editId=null,this.loadLeaveList()):re.default.fire("Error",t.message||"Failed to save leave","error"),this.isSubmitting=!1},error:()=>{re.default.fire("Error","Failed to save leave","error"),this.isSubmitting=!1}})}onEdit(e){this.leaveService.getLeaveById(e.id).subscribe(t=>{if(t?.success&&t.data?.length){let i=t.data[0];this.leaveForm.patchValue({leaveName:i.leaveName,description:i.description}),this.isEditMode=!0,this.editId=i.id}})}onDelete(e){re.default.fire({title:`Delete ${e.leaveName}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#C5192F"}).then(t=>{t.isConfirmed&&this.leaveService.deleteLeaveById(e.id).subscribe(()=>{re.default.fire("Deleted","Leave deleted","success"),this.loadLeaveList()})})}static \u0275fac=function(t){return new(t||n)(_(fe),_(ke))};static \u0275cmp=S({type:n,selectors:[["app-add-leave-type"]],viewQuery:function(t,i){if(t&1&&W(w,5),t&2){let r;Y(r=Z())&&(i.paginator=r.first)}},standalone:!1,decls:46,vars:10,consts:[[1,"bg-gray-100","p-3","min-h-screen"],[1,"max-w-7xl","mx-auto","bg-white"],[1,"mb-3"],[1,"bg-white","shadow","rounded-lg","border","border-gray-200"],[1,"p-2"],[3,"ngSubmit","formGroup"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-4","p-1"],[1,"w-full","md:w-[15%]"],[1,"block","text-[#7E7E7E]","font-bold","pt-4","text-[14px]","md:text-[17px]","ml-1"],[1,"flex","flex-col","md:flex-row","gap-4","w-full","md:w-[80%]"],[1,"w-full","md:w-[30%]"],[1,"block","text-[#7E7E7E]","font-bold","text-[14px]","mb-1"],["type","text","formControlName","leaveName","placeholder","Enter Leave Type","required","",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","text-[12px]"],["formControlName","description","rows","1","placeholder","Enter Leave Description",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","text-[12px]","resize-none"],[1,"w-full","md:w-auto","flex","md:justify-end","mt-5","md:mt-6"],["type","submit",1,"h-[34px]","px-6","bg-[#dd3d4f]","text-white","font-medium","rounded-md","hover:bg-[#239a84]","transition","text-[12px]",3,"disabled"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-1","mb-1"],[1,"ml-2","text-lg","md:text-[16px]","font-semibold","text-[#444]","text-center","md:text-left"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-3"],[1,"relative"],["type","text","placeholder","Search Leave",1,"w-full","pl-10","pr-3","py-[6px]","text-[12px]","rounded-lg","bg-[#F6F7FB]","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","table-search",3,"keyup"],[1,"fa-solid","fa-magnifying-glass","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions"],[1,"overflow-x-auto","w-full"],["mat-table","",1,"min-w-[600px]","w-full","border","border-gray-300","divide-y","divide-gray-300","text-sm","table-fixed",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","class",`w-[70px] px-1 text-[14px] py-1 text-center
                   !bg-[#dd3d4f] text-white  whitespace-nowrap`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-[12px] text-center ",4,"matCellDef"],["matColumnDef","leaveName"],["mat-header-cell","","class","min-w-[150px] px-1 py-1 !bg-[#dd3d4f] !text-white ",4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-[12px]",4,"matCellDef"],["matColumnDef","description"],["mat-header-cell","","class","min-w-[200px] px-1 py-1 !bg-[#dd3d4f] !text-white ",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","class","w-28 px-1 py-1 text-center !bg-[#dd3d4f] !text-white",4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-center space-x-2",4,"matCellDef"],["mat-header-row","","class","!h-9",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-100 !h-9",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-[70px]","px-1","text-[14px]","py-1","text-center","!bg-[#dd3d4f]","text-white","whitespace-nowrap"],["mat-cell","",1,"px-1","py-1","text-[12px]","text-center"],["mat-header-cell","",1,"min-w-[150px]","px-1","py-1","!bg-[#dd3d4f]","!text-white"],["mat-cell","",1,"px-1","py-1","text-[12px]"],["mat-header-cell","",1,"min-w-[200px]","px-1","py-1","!bg-[#dd3d4f]","!text-white"],["mat-header-cell","",1,"w-28","px-1","py-1","text-center","!bg-[#dd3d4f]","!text-white"],["mat-cell","",1,"px-1","py-1","text-center","space-x-2"],[1,"fa","fa-pencil","text-green-600","cursor-pointer",3,"click"],[1,"fa","fa-trash","text-red-600","cursor-pointer",3,"click"],["mat-header-row","",1,"!h-9"],["mat-row","",1,"hover:bg-gray-100","!h-9"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),s("ngSubmit",function(){return i.onSubmit()}),o(6,"div",6)(7,"div",7)(8,"label",8),l(9," Add Leave : "),a()(),o(10,"div",9)(11,"div",10)(12,"label",11),l(13," Leave Type : "),a(),p(14,"input",12),a(),o(15,"div",10)(16,"label",11),l(17," Description : "),a(),p(18,"textarea",13),a(),o(19,"div",14)(20,"button",15),l(21),a()()()()()()()(),o(22,"div",16)(23,"h1",17),l(24," Leave List "),a(),o(25,"div",18)(26,"div",19)(27,"input",20),s("keyup",function(m){return i.applyFilter(m)}),a(),p(28,"i",21),a(),o(29,"mat-paginator",22),s("page",function(m){return i.onPageChange(m)}),a()()(),o(30,"div",23)(31,"table",24),x(32,25),f(33,bt,2,0,"th",26)(34,Ct,2,1,"td",27),y(),x(35,28),f(36,_t,2,0,"th",29)(37,vt,2,1,"td",30),y(),x(38,31),f(39,St,2,0,"th",32)(40,Dt,2,1,"td",30),y(),x(41,33),f(42,Tt,2,0,"th",34)(43,Et,3,0,"td",35),y(),f(44,Nt,1,0,"tr",36)(45,Mt,1,0,"tr",37),a()()()()),t&2&&(d(5),c("formGroup",i.leaveForm),d(15),c("disabled",i.leaveForm.invalid||i.isSubmitting),d(),C(" ",i.isEditMode?"Update":"Submit"," "),d(8),c("length",i.totalRecords)("pageSize",i.pageSize)("pageSizeOptions",D(9,wt)),d(2),c("dataSource",i.dataSource),d(13),c("matHeaderRowDef",i.displayedColumns),d(),c("matRowDefColumns",i.displayedColumns))},dependencies:[M,T,E,N,A,F,P,B,V,I,k,z,L,H,O,w,ge,ue],styles:[".mat-mdc-paginator-page-size-label{display:none!important}  .mat-mdc-paginator-range-label{display:none!important}  .mat-mdc-paginator-page-size-select{width:65px!important;min-width:55px!important}  .mat-mdc-select-trigger{height:22px!important;font-size:13px!important}  .mat-mdc-paginator-container{min-height:40px!important;padding:0 8px!important}"]})};var le=ne(oe());var At=()=>[10,20,30];function Rt(n,e){n&1&&(o(0,"th",35),l(1," Sr No. "),a())}function Ft(n,e){if(n&1&&(o(0,"td",36),l(1),a()),n&2){let t=e.index,i=b();d(),C(" ",(i.pageNumber-1)*i.pageSize+t+1," ")}}function It(n,e){n&1&&(o(0,"th",35),l(1,"Page Name"),a())}function Pt(n,e){if(n&1&&(o(0,"td",37),l(1),a()),n&2){let t=e.$implicit;d(),ee(t.pageName)}}function Vt(n,e){n&1&&(o(0,"th",35),l(1," Page Url"),a())}function zt(n,e){if(n&1&&(o(0,"td",37),l(1),a()),n&2){let t=e.$implicit;d(),ee(t.pageUrl)}}function Lt(n,e){n&1&&(o(0,"th",38),l(1," Action "),a())}function Bt(n,e){if(n&1){let t=v();o(0,"td",39)(1,"button",40),s("click",function(){let r=g(t).$implicit,m=b();return u(m.editPage(r))}),p(2,"i",41),a(),o(3,"button",42),s("click",function(){let r=g(t).$implicit,m=b();return u(m.deletePage(r))}),p(4,"i",43),a()()}}function kt(n,e){n&1&&p(0,"tr",44)}function Ht(n,e){n&1&&p(0,"tr",45)}var ve=class n{constructor(e,t){this.fb=e;this.master=t}pageForm;displayedColumns=["srNo","pageName","pageUrl","action"];dataSource=new j([]);pageNumber=1;pageSize=10;totalRecords=0;searchTerm="";searchControl=new Me("");isEditMode=!1;editId=null;ngOnInit(){this.pageForm=this.fb.group({pageName:["",ae.required],pageUrl:["",ae.required]}),this.loadPages(),this.searchControl.valueChanges.pipe(Te(400),Ee()).subscribe(e=>{this.searchTerm=e?.trim()||"",this.pageNumber=1,this.loadPages()})}onSubmit(){if(this.pageForm.invalid)return;let e={id:this.editId??0,pageName:this.pageForm.value.pageName.trim(),pageUrl:this.pageForm.value.pageUrl.trim()};this.master.insertPage(e).subscribe({next:t=>{t.success?le.default.fire("Success",t.message,"success").then(()=>{this.resetForm(),this.loadPages()}):le.default.fire("Success",t.message,"success")},error:t=>{le.default.fire("Error",t.error.errorMessage,"error")}})}editPage(e){this.isEditMode=!0,this.editId=e.id,this.pageForm.patchValue({pageName:e.pageName,pageUrl:e.pageUrl})}deletePage(e){e?.id&&this.master.deletePageById(e.id).subscribe({next:t=>{t.status&&le.default.fire("Success",t.message,"success").then(()=>{this.loadPages()})}})}onPageChange(e){this.pageNumber=e.pageIndex+1,this.pageSize=e.pageSize,this.loadPages()}loadPages(){this.master.getAllPages(this.pageNumber,this.pageSize).subscribe({next:e=>{e.success&&(this.dataSource.data=e.data,this.totalRecords=e.totalRecords??0,console.log("Total Records",this.totalRecords))},error:e=>{console.error("Error : ",e),le.default.fire("Error",e.error.errorMessage,"error")}})}resetForm(){this.pageForm.reset(),this.isEditMode=!1,this.editId=null}static \u0275fac=function(t){return new(t||n)(_(fe),_(R))};static \u0275cmp=S({type:n,selectors:[["app-add-page"]],standalone:!1,decls:42,vars:12,consts:[[1,"content","px-3","py-2"],[1,"mb-3"],[1,"bg-white","shadow","rounded-lg"],[1,"p-2"],[3,"ngSubmit","formGroup"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-2","p-2"],[1,"w-full","md:w-[15%]"],[1,"block","text-[#7E7E7E]","font-medium","text-[15px]","md:text-[17px]","ml-1"],[1,"w-full","md:w-[25%]"],["type","text","formControlName","pageName","placeholder","Enter Page Name",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","text-[12px]","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]"],["type","text","formControlName","pageUrl","placeholder","Enter Page URL",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","text-[12px]","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]"],[1,"w-full","md:w-1/4"],["type","submit",1,"w-full","md:w-auto","h-[34px]","px-6","bg-[#dd3d4f]","text-white","font-medium","rounded-md","hover:bg-[#249378]","transition","text-[12px]",3,"disabled"],[1,"bg-gray-50","p-2","md:p-2"],[1,"bg-white","shadow","rounded-lg","p-1"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-1","mb-1"],[1,"ml-2","text-lg","md:text-[16px]","font-semibold","text-[#444]","text-center","md:text-left"],[1,"flex","items-center","gap-2"],[1,"relative"],["type","text","placeholder","Search Leave",1,"w-full","pl-10","pr-3","py-[6px]","text-[12px]","rounded-lg","bg-[#F6F7FB]","border","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-[#C5192F]","table-search",3,"formControl"],[1,"fa-solid","fa-magnifying-glass","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"],[1,"relative","overflow-x-auto","w-full"],["mat-table","",1,"min-w-[700px]","w-full","border","border-gray-300","divide-y","divide-gray-300","table-fixed","text-sm","md:text-base",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","class","w-[70px] text-center !bg-[#dd3d4f] text-white",4,"matHeaderCellDef"],["mat-cell","","class","text-center text-[12px]",4,"matCellDef"],["matColumnDef","pageName"],["mat-cell","",4,"matCellDef"],["matColumnDef","pageUrl"],["matColumnDef","action"],["mat-header-cell","","class",`w-[120px] px-1 py-1 text-center
                   !bg-[#dd3d4f] text-white text-[14px]`,4,"matHeaderCellDef"],["mat-cell","","class","px-1 py-1 text-center",4,"matCellDef"],["mat-header-row","","class","!h-9",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-100 !h-9",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"w-[70px]","text-center","!bg-[#dd3d4f]","text-white"],["mat-cell","",1,"text-center","text-[12px]"],["mat-cell",""],["mat-header-cell","",1,"w-[120px]","px-1","py-1","text-center","!bg-[#dd3d4f]","text-white","text-[14px]"],["mat-cell","",1,"px-1","py-1","text-center"],[1,"text-green-700","p-2","rounded-full","hover:bg-green-100","mr-1","text-[12px]",3,"click"],[1,"fa","fa-pencil"],[1,"text-red-500","p-2","rounded-full","hover:bg-red-100","text-[12px]",3,"click"],[1,"fa","fa-trash"],["mat-header-row","",1,"!h-9"],["mat-row","",1,"hover:bg-gray-100","!h-9"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),s("ngSubmit",function(){return i.onSubmit()}),o(5,"div",5)(6,"div",6)(7,"label",7),l(8," Add Page : "),a()(),o(9,"div",8),p(10,"input",9),a(),o(11,"div",8),p(12,"input",10),a(),o(13,"div",11)(14,"button",12),l(15),a()()()()()()(),o(16,"div",13)(17,"div",14)(18,"div",15)(19,"h1",16),l(20," Page List "),a(),o(21,"div",17)(22,"div",18),p(23,"input",19)(24,"i",20),a(),o(25,"mat-paginator",21),s("page",function(m){return i.onPageChange(m)}),a()()(),o(26,"div",22)(27,"table",23),x(28,24),f(29,Rt,2,0,"th",25)(30,Ft,2,1,"td",26),y(),x(31,27),f(32,It,2,0,"th",25)(33,Pt,2,1,"td",28),y(),x(34,29),f(35,Vt,2,0,"th",25)(36,zt,2,1,"td",28),y(),x(37,30),f(38,Lt,2,0,"th",31)(39,Bt,5,0,"td",32),y(),f(40,kt,1,0,"tr",33)(41,Ht,1,0,"tr",34),a()()()()()),t&2&&(d(4),c("formGroup",i.pageForm),d(10),c("disabled",i.pageForm.invalid),d(),C(" ",i.isEditMode?"Update":"Submit"," "),d(8),c("formControl",i.searchControl),d(2),c("length",i.totalRecords)("pageSize",i.pageSize)("pageIndex",i.pageNumber-1)("pageSizeOptions",D(11,At)),d(2),c("dataSource",i.dataSource),d(13),c("matHeaderRowDef",i.displayedColumns),d(),c("matRowDefColumns",i.displayedColumns))},dependencies:[M,T,E,N,F,P,B,V,I,k,z,L,H,O,w,Ae,ge,ue],styles:[".mat-mdc-paginator-page-size-label{display:none!important}  .mat-mdc-paginator-range-label{display:none!important}  .mat-mdc-paginator-page-size-select{width:65px!important;min-width:55px!important}  .mat-mdc-select-trigger{height:22px!important;font-size:13px!important}"]})};var Ot=[{path:"",redirectTo:"add-role",pathMatch:"full"},{path:"add-role",component:be},{path:"add-designation",component:we},{path:"add-department",component:he},{path:"add-technology",component:Ce},{path:"add-leave",component:_e},{path:"add-pages",component:ve}],Se=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ce({type:n});static \u0275inj=se({imports:[De.forChild(Ot),De]})};var je=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ce({type:n});static \u0275inj=se({imports:[Ne,Re,Se,Ie,Pe,Ve,ze,Le,Be,Fe,Oe]})};export{je as MastersModule};
