<div class="bg-gray-100 p-3 min-h-screen">
  <div class="max-w-7xl mx-auto bg-white rounded shadow">

    <!-- HEADER -->
    <div class="px-4 py-2 border-b">
      <h6 class=" text-lg md:text-xl text-center md:text-left">Add Leave Type</h6>
    </div>

    <!-- FORM -->
  <form [formGroup]="leaveForm" (ngSubmit)="onSubmit()">
  <div class="p-2">
    <!-- Parent flex container -->
    <div class="flex flex-col md:flex-row md:items-center gap-4 bg-white border rounded shadow-sm p-2">

      <!-- Leave Type -->
      <div class="w-full md:w-5/12">
        <label class="block text-xs font-medium mb-1">Leave Type:</label>
        <input type="text" formControlName="leaveName" placeholder="Enter Leave Type"
          class="w-full h-9 px-3 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-[#C5192F]" />
        <!-- <small *ngIf="leaveForm.get('leaveName')?.touched && leaveForm.get('leaveName')?.invalid"
          class="text-red-500 text-xs">Leave Type is required</small> -->
      </div>

      <!-- Description -->
      <div class="w-full md:w-5/12">
        <label class="block text-xs font-medium mb-1 pt-2">Description:</label>
        <textarea rows="1" formControlName="description" placeholder="Enter Leave Description"
          class="w-full h-9 px-3 text-sm border rounded resize-none
          focus:outline-none focus:ring-2 focus:ring-[#C5192F] pt-1.5"></textarea>
        <!-- <small *ngIf="leaveForm.get('description')?.touched && leaveForm.get('description')?.invalid"
          class="text-red-500 text-xs">Description is required</small> -->
      </div>

      <!-- Submit Button -->
      <div class="w-full md:w-auto flex md:items-center pt-5">
        <button type="submit" [disabled]="leaveForm.invalid || isSubmitting"
          class="w-full md:w-auto h-9 px-6 bg-[#C5192F] text-white text-sm font-medium rounded hover:bg-[#239a84] transition">
          {{ isEditMode ? 'Update' : 'Submit' }}
        </button>
      </div>

    </div>
  </div>
</form>


    <!-- SEARCH + PAGINATOR -->
    <!-- <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-2 gap-2">
      <input type="text" placeholder="Search Leave" (keyup)="applyFilter($event)"
        class="border px-3 py-1 rounded w-full sm:w-64 focus:ring-2 focus:ring-[#C5192F] " />

      <mat-paginator class="w-full sm:w-auto"
        [length]="totalRecords"
        [pageSize]="pageSize"
        [pageSizeOptions]="[5,10,20]"
        showFirstLastButtons
        (page)="onPageChange($event)">
      </mat-paginator>
    </div> -->

    <!-- SEARCH + PAGINATOR HEADER -->
<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2 px-2">

  <!-- TITLE (optional) -->
  <h6 class="ml-2 text-lg md:text-xl text-center md:text-left">
    Leave List
  </h6>

  <!-- SEARCH INPUT -->
  <div class="relative w-full md:w-64 mx-auto">
    <input type="text" placeholder="Search Leave" (keyup)="applyFilter($event)"
      class="w-full pl-10 pr-3 py-2 rounded-lg border border-gray-300
             focus:outline-none focus:ring-2 focus:ring-[#C5192F]" />
    <i class="fa-solid fa-magnifying-glass
           absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">
    </i>
  </div>

  <!-- PAGINATOR -->
  <div class="w-full md:w-auto flex justify-end mt-2 md:mt-0">
    <mat-paginator
      [length]="totalRecords"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5,10,20,30]"
      showFirstLastButtons
      (page)="onPageChange($event)">
    </mat-paginator>
  </div>

</div>

    <!-- TABLE -->
    <div class="overflow-x-auto w-full">
      <table mat-table [dataSource]="dataSource"
        class="min-w-[600px] w-full border border-gray-300 divide-y divide-gray-300 text-sm table-fixed">

        <!-- SR NO -->
        <ng-container matColumnDef="srNo">
          <th mat-header-cell *matHeaderCellDef class="w-14 px-1 py-1 text-center !bg-[#C5192F] !text-white border-r whitespace-nowrap">Sr No.</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 text-center border-r">{{ row.srNo }}</td>
        </ng-container>

        <!-- LEAVE NAME -->
        <ng-container matColumnDef="leaveName">
          <th mat-header-cell *matHeaderCellDef class="min-w-[150px] px-1 py-1 !bg-[#C5192F] !text-white border-r">Leave Type</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 border-r">{{ row.leaveName }}</td>
        </ng-container>

        <!-- DESCRIPTION -->
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef class="min-w-[200px] px-1 py-1 !bg-[#C5192F] !text-white border-r">Description</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 border-r">{{ row.description }}</td>
        </ng-container>

        <!-- ACTION -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef class="w-28 px-1 py-1 text-center !bg-[#C5192F] !text-white">Action</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 text-center space-x-2">
            <i class="fa fa-pencil text-green-600 cursor-pointer" (click)="onEdit(row)"></i>
            <i class="fa fa-trash text-red-600 cursor-pointer" (click)="onDelete(row)"></i>
          </td>
        </ng-container>

        <!-- ROWS -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="!h-9"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns" class="hover:bg-gray-100 !h-9"></tr>
      </table>
    </div>

  </div>
</div>
