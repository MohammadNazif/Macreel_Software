<div class="content px-3 py-2">

  <!-- ================= FORM ================= -->
  <div class="mb-3">
    <div class="bg-white shadow rounded-lg">
      <div class="p-2">

        <form [formGroup]="pageForm" (ngSubmit)="onSubmit()">
          <div class="flex flex-col md:flex-row md:items-center gap-2 p-2">

            <!-- LABEL -->
            <div class="w-full md:w-[15%]">
              <label class="block text-[#7E7E7E] font-medium text-[15px] md:text-[17px] ml-1">
                Assign Pages :
              </label>
            </div>

            <!-- PAGE NAME -->
            <div class="w-full md:w-[25%]">
              <input
                type="text"
                formControlName="pageName"
                placeholder="Enter Page Name"
                class="w-full border border-gray-300 rounded-md px-3 py-2 text-[12px]
                       focus:outline-none focus:ring-2 focus:ring-[#C5192F]" />
            </div>

            <!-- PAGE URL -->
            <div class="w-full md:w-[25%]">
              <input
                type="text"
                formControlName="pageUrl"
                placeholder="Enter Page URL"
                class="w-full border border-gray-300 rounded-md px-3 py-2 text-[12px]
                       focus:outline-none focus:ring-2 focus:ring-[#C5192F]" />
            </div>

            <!-- BUTTON -->
            <div class="w-full md:w-1/4">
              <button
                type="submit"
                [disabled]="pageForm.invalid"
                class="w-full md:w-auto h-[34px] px-6
                       bg-[#dd3d4f] text-white font-medium rounded-md
                       hover:bg-[#249378] transition text-[12px]">
                {{isEditMode?"Update":"Submit"}}
              </button>
            </div>

          </div>
        </form>

      </div>
    </div>
  </div>

  <!-- ================= TABLE ================= -->
  <div class="bg-gray-50 p-2 md:p-2">
  <!-- Assigned Leaves Table -->
  <div class="bg-white shadow rounded-lg p-1">

    <!-- HEADER -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-1 mb-1">

      <!-- LEFT SIDE: TITLE -->
      <h1 class="ml-2 text-lg md:text-[16px] font-semibold text-[#444] text-center md:text-left">
        Assigned Pages
      </h1>

      <!-- RIGHT SIDE: SEARCH + PAGINATOR (together) -->
      <div class="flex items-center gap-2">

        <!-- SEARCH -->
        <div class="relative">
          <input type="text" placeholder="Search Leave" [formControl]="searchControl" class="w-full pl-10 pr-3 py-[6px] text-[12px] rounded-lg bg-[#F6F7FB]
        border border-gray-300
        focus:outline-none focus:ring-2 focus:ring-[#C5192F] table-search" />
          <i class="fa-solid fa-magnifying-glass
        absolute left-3 top-1/2 -translate-y-1/2
        text-gray-400 text-sm">
          </i>
        </div>

        <!-- PAGINATOR -->
        <mat-paginator [length]="totalRecords" [pageSize]="pageSize" [pageIndex]="pageNumber - 1"
          [pageSizeOptions]="[10,20,30]" showFirstLastButtons (page)="onPageChange($event)">
        </mat-paginator>

      </div>

    </div>

    <!-- ================= TABLE WRAPPER ================= -->
    <div class="relative overflow-x-auto w-full">

      <table mat-table [dataSource]="dataSource" class="min-w-[700px] w-full
               border border-gray-300
               divide-y divide-gray-300
               table-fixed
               text-sm md:text-base">

        <!-- SR NO -->
        <ng-container matColumnDef="srNo">
          <th mat-header-cell *matHeaderCellDef class="w-[70px] text-center !bg-[#dd3d4f] text-white">
            Sr No.
          </th>

          <td mat-cell *matCellDef="let row; let i = index" class="text-center text-[12px]">
            {{ (pageNumber - 1) * pageSize + i + 1 }}
          </td>
        </ng-container>

        <!-- Leave Type -->
        <ng-container matColumnDef="pageName">
          <th mat-header-cell *matHeaderCellDef class="w-[70px] text-center !bg-[#dd3d4f] text-white">Page Name</th>
          <td mat-cell *matCellDef="let row">{{ row.pageName }}</td>
        </ng-container>

        <!-- Page Url -->
        <ng-container matColumnDef="pageUrl">
          <th mat-header-cell *matHeaderCellDef class="w-[70px] text-center !bg-[#dd3d4f] text-white">
            Page Url</th>
          <td mat-cell *matCellDef="let row">{{ row.pageUrl }}</td>
        </ng-container>

        <!-- ACTION -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef class="w-[120px] px-1 py-1 text-center
                   !bg-[#dd3d4f] text-white text-[14px]">
            Action
          </th>

          <td mat-cell *matCellDef="let element" class="px-1 py-1 text-center">
            <button class="text-green-700 p-2 rounded-full hover:bg-green-100 mr-1 text-[12px]"
              (click)="editPage(element)">
              <i class="fa fa-pencil"></i>
            </button>

            <button class="text-red-500 p-2 rounded-full hover:bg-red-100 text-[12px]"
              (click)="deletePage(element)">
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </ng-container>

        <!-- ROWS -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="!h-9">
        </tr>

        <tr mat-row *matRowDef="let row; columns: displayedColumns" class="hover:bg-gray-100 !h-9">
        </tr>

      </table>

    </div>
  </div>
</div>
</div>