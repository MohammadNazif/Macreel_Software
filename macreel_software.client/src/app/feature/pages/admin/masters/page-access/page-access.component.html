<div class="content px-3">

  <!-- ================= FORM ================= -->
  <div class="p-2 md:p-2">
    <div class="bg-white shadow rounded-lg">
      <div class="p-2">

        <form [formGroup]="pageForm" (ngSubmit)="onSubmit()">

          <div class="flex flex-col md:flex-row md:items-center gap-2 p-2">

            <!-- LABEL -->
            <div class="w-full md:w-[15%]">
              <label class="block text-[#7E7E7E] font-medium text-[15px] md:text-[17px] ml-1">
                Assign Pages :
              </label>
            </div>

            <!-- ROLE DROPDOWN -->
            <div class="w-full md:w-[25%]">
              <select formControlName="roleId" (change)="onRoleChange($event)" class="w-full border border-gray-300 rounded-md px-3 py-2 text-[12px]
                       focus:outline-none focus:ring-2 focus:ring-[#C5192F]">
                <option value="" disabled>Select role</option>
                <option *ngFor="let role of roles" [value]="role.id">
                  {{ role.rolename }}
                </option>
              </select>

              <span class="text-xs text-red-600"
                *ngIf="pageForm.get('roleId')?.touched && pageForm.get('roleId')?.invalid">
                Role is required
              </span>
            </div>
          </div>

          <!-- ================= TABLE ================= -->
          <div class="bg-gray-50 px-2 md:px-2 mt-2">
            <div class="bg-white shadow rounded-lg p-1">

              <!-- HEADER -->
              <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-1 mb-1">
                <h1 class="ml-2 text-lg md:text-[16px] font-semibold text-[#444]">
                  Page List
                </h1>
              </div>

              <!-- ================= TABLE ================= -->
              <div class="relative overflow-x-auto w-full" formArrayName="pages">

                <table mat-table [dataSource]="dataSource" class="min-w-[700px] w-full
                              border border-gray-300
                              divide-y divide-gray-300
                              table-fixed
                              text-sm">

                  <!-- SR NO -->
                  <ng-container matColumnDef="srNo">
                    <th mat-header-cell *matHeaderCellDef
                      class="!w-[80px] text-center border-r !bg-[#dd3d4f] text-white">
                      Sr No.
                    </th>
                    <td mat-cell *matCellDef="let row; let i = index" class="text-center border-r text-[12px]">
                      {{ i + 1 }}
                    </td>
                  </ng-container>

                  <!-- PAGE NAME -->
                  <ng-container matColumnDef="pageName">
                    <th mat-header-cell *matHeaderCellDef class="text-center border-r !bg-[#dd3d4f] text-white">
                      Page Name
                    </th>
                    <td mat-cell *matCellDef="let row;" class="text-center">
                      {{row.pageName}}
                    </td>

                  </ng-container>

                  <!-- CHECKBOX -->
                  <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef class="w-[200px] text-center border-r
                               !bg-[#dd3d4f] text-white">
                      Access Allow
                    </th>

                    <td mat-cell *matCellDef="let row;" class="text-center border-r">
                      <input type="checkbox" class="w-4 h-4 cursor-pointer accent-red-600" />
                    </td>
                  </ng-container>

                  <!-- ROWS -->
                  <tr mat-header-row *matHeaderRowDef="displayedColumns" class="!h-9">
                  </tr>

                  <tr mat-row *matRowDef="let row; columns: displayedColumns" class="hover:bg-gray-100 !h-9">
                  </tr>

                </table>

                <!-- SUBMIT BUTTON -->
                <div class="w-full py-3 text-center">
                  <button type="submit" [disabled]="pageForm.invalid" class="w-full md:w-auto h-[34px] px-6
                           bg-[#dd3d4f] text-white font-medium rounded-md
                           hover:bg-[#249378] transition text-[12px]">
                    Submit
                  </button>
                </div>

              </div>
            </div>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>