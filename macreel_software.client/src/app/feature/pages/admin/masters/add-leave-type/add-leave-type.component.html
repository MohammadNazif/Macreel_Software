<div class="bg-gray-100 p-3 min-h-screen">
  <div class="max-w-7xl mx-auto bg-white">

    <div class="mb-3">
      <div class="bg-white shadow rounded-lg border border-gray-200">
        <div class="p-2">
          <form [formGroup]="leaveForm" (ngSubmit)="onSubmit()">

            <div class="flex flex-col md:flex-row md:items-center gap-4 p-1">

              <!-- LABEL -->
              <div class="w-full md:w-[15%]">
                <label class="block text-[#7E7E7E] font-bold pt-4 text-[14px] md:text-[17px] ml-1">
                  Add Leave :
                </label>
              </div>

              <!-- INPUTS + BUTTON -->
              <div class="flex flex-col md:flex-row gap-4 w-full md:w-[80%]">

                <!-- LEAVE TYPE -->
                <div class="w-full md:w-[30%]">
                  <label class="block text-[#7E7E7E] font-bold text-[14px] mb-1">
                    Leave Type :
                  </label>
                  <input type="text" formControlName="leaveName" placeholder="Enter Leave Type" required class="w-full border border-gray-300 rounded-md px-3 py-2
                       focus:outline-none focus:ring-2 focus:ring-[#C5192F] text-[12px]" />
                </div>

                <!-- DESCRIPTION -->
                <div class="w-full md:w-[30%]">
                  <label class="block text-[#7E7E7E] font-bold text-[14px] mb-1">
                    Description :
                  </label>
                  <textarea formControlName="description" rows="1" placeholder="Enter Leave Description" class="w-full border border-gray-300 rounded-md px-3 py-2
                       focus:outline-none focus:ring-2 focus:ring-[#C5192F] text-[12px] resize-none"></textarea>
                </div>

                <!-- SUBMIT BUTTON -->
                <div class="w-full md:w-auto flex md:justify-end mt-5 md:mt-6">
                  <button type="submit" [disabled]="leaveForm.invalid || isSubmitting" class="h-[34px] px-6 bg-[#dd3d4f] text-white font-medium rounded-md
           hover:bg-[#239a84] transition text-[12px]">
                    {{ isEditMode ? 'Update' : 'Submit' }}
                  </button>
                </div>


              </div>
            </div>

          </form>
        </div>
      </div>
    </div>

    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-1 mb-1">
      <h1 class="ml-2 text-lg md:text-[16px] font-semibold text-[#444] text-center md:text-left">
        Leave List
      </h1>
      <div class="flex flex-col md:flex-row md:items-center gap-3">

        <!-- SEARCH -->
        <div class="relative">
          <input type="text" placeholder="Search Leave" (keyup)="applyFilter($event)" class="w-full pl-10 pr-3 py-[6px] text-[12px] rounded-lg bg-[#F6F7FB]
               border border-gray-300 focus:outline-none
               focus:ring-2 focus:ring-[#C5192F] table-search" />
          <i class="fa-solid fa-magnifying-glass
             absolute left-3 top-1/2 -translate-y-1/2
             text-gray-400 text-sm">
          </i>
        </div>

        <!-- PAGINATOR -->
        <mat-paginator [length]="totalRecords" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20, 30]"
          showFirstLastButtons (page)="onPageChange($event)">
        </mat-paginator>

      </div>

    </div>


    <!-- TABLE -->
    <div class="overflow-x-auto w-full">
      <table mat-table [dataSource]="dataSource"
        class="min-w-[600px] w-full border border-gray-300 divide-y divide-gray-300 text-sm table-fixed">

        <!-- SR NO -->
        <ng-container matColumnDef="srNo">
          <th mat-header-cell *matHeaderCellDef class="w-[70px] px-1 text-[14px] py-1 text-center
                   !bg-[#dd3d4f] text-white  whitespace-nowrap">Sr No.</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 text-[12px] text-center ">{{ row.srNo }}</td>
        </ng-container>

        <!-- LEAVE NAME -->
        <ng-container matColumnDef="leaveName">
          <th mat-header-cell *matHeaderCellDef class="min-w-[150px] px-1 py-1 !bg-[#dd3d4f] !text-white ">Leave
            Type</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 text-[12px]">{{ row.leaveName }}</td>
        </ng-container>

        <!-- DESCRIPTION -->
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef class="min-w-[200px] px-1 py-1 !bg-[#dd3d4f] !text-white ">
            Description</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 text-[12px]">{{ row.description }}</td>
        </ng-container>

        <!-- ACTION -->
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef class="w-28 px-1 py-1 text-center !bg-[#dd3d4f] !text-white">Action</th>
          <td mat-cell *matCellDef="let row" class="px-1 py-1 text-center space-x-2">
            <i class="fa fa-pencil text-green-600 cursor-pointer" (click)="onEdit(row)"></i>
            <i class="fa fa-trash text-red-600 cursor-pointer" (click)="onDelete(row)"></i>
          </td>
        </ng-container>

        <!-- ROWS -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="!h-9"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns" class="hover:bg-gray-100 !h-9"></tr>
      </table>
    </div>

  </div>
</div>